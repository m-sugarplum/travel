<%- include('partials/head.ejs') %>

    <body class="body-destinations">

        <%- include('partials/navbar.ejs') %>

            <!-- Main container - show page with a list of destinations in a bootstrap grid (image + place name) -->
            <div class="container text-center container-destinations">

                <!-- Title -->
                <h1 class="text-center pt-2 pb-2 h1-destinations">Mexico</h1>

                <!-- Button to add new destination -->
                <a href="/mexico/new" class="justify-content-center add-place my-4 mx-auto mt-3">Add New Place</a>

                <!-- Variable - number of keys in json file (length of the listOfPlaces array containing all the keys) -->
                <% let length=placesCount %>

                    <% for (let i=1; i < length+1; i++) { %>
                        <!-- Looping over all keys in json file and displaying destinations in a grid (1 or 2 elements in a row) -->

                        <% if (i%2 !==0) { %>
                            <!--For all uneven numbers (1,3,5,7 etc) of destinations from json file: opening for row div + col div including image and place name -->
                            <div class="row justify-content-center ">
                                <div class="col-xs-12 col-md-6 p-md-4 p-lg-5 pb-5">

                                    <!-- Image - link to details page -->
                                    <a href="/mexico/<%=allPlaces[i-1].id%>">
                                        <img src="<%=allPlaces[i-1].img%>" alt="" class="img-thumbnail">
                                    </a>

                                    <!-- Destination name - link to details page-->
                                    <a href="/mexico/<%=allPlaces[i-1].id%>"
                                        class="a-destinations justify-content-center">
                                        <%=allPlaces[i].place_name%>
                                    </a>
                                </div>

                                <% } else if (i%2==0) { %>
                                    <!-- For even numbers (2,4,6,8 etc): col div including image and place name + closing tag for row div -->
                                    <div class="col-xs-12 col-md-6 p-md-4 p-lg-5 pb-5">
                                        <!-- Image - link to details page -->
                                        <a href="/mexico/<%=allPlaces[i-1].id%>">
                                            <img src="<%=allPlaces[i-1].img%>" alt="" class="img-thumbnail">
                                        </a>

                                        <!-- Destination name - link to details page-->
                                        <a href="/mexico/<%=allPlaces[i-1].id%>"
                                            class="a-destinations justify-content-center">
                                            <%=allPlaces[i-1].place_name%>
                                        </a>
                                    </div>
                            </div>
                            <% } %>
                                <%} %>

                                    <!-- Row with Back to Top button  -->
                                    <div class="row justify-content-center">
                                        <button type="button"
                                            class="btn btn-lg btn-outline-warning col-4 col-md-2 m-3 btn-scroll-up">
                                            Back to Top
                                        </button>
                                    </div>

            </div>
            <script src="/js/app.js"></script>
    </body>

    </html>